#!/usr/bin/env python3

import sys
import re

def isContent(pos):
     ret = re.search(r"(M|P|DT|DEG|DEC|DEV|DER|CC|CS|LC|AS|SP|MSP|LB|SB|BA)",pos)
     return ret is None


if __name__ == "__main__":
    if len(sys.argv) < 2:
        sys.exit("you must provide filename")
    
    count = 0
    print("# ID=%d" % count)
    with open(sys.argv[1],"r") as f:
        for line in f:
            line = line.rstrip()
            if line=="":
                count += 1
                print("\n# ID=%d SCORE=1.000" % count)
                continue
            tokens = list(map(lambda x: int(x) if x.isdigit() else x, line.split()))
            id = tokens[0] - 1
            surface = tokens[1]
            pos = tokens[3]
            dep_id = tokens[6] - 1
            isCont = isContent(pos)
            if pos == "PU":
                isCont = "-1"
            elif isCont:
                isCont = "1"
            else:
                isCont = "0"
            print("%d\t%d\t%s\t%s\t%s\t%s\t%s\t_\t_" % (id, dep_id, surface, surface, pos, isCont, pos))
